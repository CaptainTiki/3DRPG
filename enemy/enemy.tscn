[gd_scene load_steps=6 format=3 uid="uid://b71wgveipu153"]

[ext_resource type="Script" path="res://enemy/enemy.gd" id="1_8hquk"]
[ext_resource type="PackedScene" uid="uid://brkes6oa2ksbn" path="res://player/rig.tscn" id="2_kxoty"]
[ext_resource type="PackedScene" path="res://player/health_component.tscn" id="3_jqpg3"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_yqm2y"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_kpb34"]

[node name="Enemy" type="CharacterBody3D"]
collision_layer = 9
script = ExtResource("1_8hquk")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_yqm2y")

[node name="Rig" parent="." instance=ExtResource("2_kxoty")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)

[node name="Skeleton3D" parent="Rig/CharacterRig/GameRig" index="0"]
bones/0/position = Vector3(4.42584e-15, 0.908295, -0.0481736)
bones/2/rotation = Quaternion(0.00533952, -0.000299694, 0.00321182, 0.999981)
bones/3/rotation = Quaternion(-0.0899174, -0.000294577, 0.00852407, 0.995913)
bones/4/rotation = Quaternion(0.271151, 1.48064e-08, 9.07765e-08, 0.962537)
bones/6/rotation = Quaternion(-0.163632, -1.17732e-07, -1.87242e-08, 0.986521)
bones/7/position = Vector3(-2.46903e-08, 0.908295, -0.0481735)
bones/8/position = Vector3(-7.56561e-08, 0.908295, -0.0481735)
bones/9/position = Vector3(0.131144, 0.974499, -0.0351291)
bones/9/rotation = Quaternion(0.994071, 0.0203403, -0.0312034, 0.102153)
bones/11/rotation = Quaternion(0.398934, -0.000696311, 0.000303057, 0.916979)
bones/13/rotation = Quaternion(-0.742439, 0.0118516, 0.0243666, 0.669365)
bones/15/position = Vector3(-0.131144, 0.974499, -0.0351291)
bones/15/rotation = Quaternion(0.975425, -0.00535489, 0.0276186, 0.218529)
bones/17/rotation = Quaternion(0.424755, 0.0031763, -0.00149039, 0.905302)
bones/19/rotation = Quaternion(-0.679677, -0.0281469, -0.00133871, 0.73297)
bones/21/position = Vector3(0.0251286, 1.43794, 0.04649)
bones/21/rotation = Quaternion(-0.473848, -0.265923, -0.414291, 0.730148)
bones/22/position = Vector3(0.19104, 1.47654, -0.0120238)
bones/22/rotation = Quaternion(0.0255302, -0.163383, 0.975382, -0.145889)
bones/23/rotation = Quaternion(3.45382e-08, -0.0357183, 5.28683e-08, 0.999362)
bones/24/rotation = Quaternion(0.343893, -0.0357189, -0.0214638, 0.938084)
bones/46/position = Vector3(-0.0113635, 1.43794, 0.04649)
bones/46/rotation = Quaternion(-0.477103, 0.257824, 0.409234, 0.733776)
bones/47/position = Vector3(-0.175956, 1.47686, -0.0154294)
bones/47/rotation = Quaternion(-0.0207063, -0.146064, 0.975893, 0.160836)
bones/48/rotation = Quaternion(1.18761e-07, 0.0504515, 1.62165e-07, 0.998727)
bones/49/rotation = Quaternion(0.383432, 0.0504522, 0.0282693, 0.921757)
bones/71/position = Vector3(0.127191, 1.35855, -0.0247421)
bones/71/rotation = Quaternion(2.01576e-08, 0.600637, 0.799522, -4.59428e-08)
bones/72/position = Vector3(-0.113426, 1.35855, -0.0247422)
bones/72/rotation = Quaternion(2.01577e-08, 0.600637, 0.799522, -4.59428e-08)

[node name="Knight_02" parent="Rig/CharacterRig/GameRig/Skeleton3D" index="1"]
visible = false

[node name="Villager_02" parent="Rig/CharacterRig/GameRig/Skeleton3D" index="3"]
visible = true

[node name="RightHandBone" parent="Rig" index="2"]
transform = Transform3D(-0.962343, -0.2708, -0.0237152, 0.224535, -0.841034, 0.492184, -0.153229, 0.468326, 0.870168, -0.349772, 1.00785, 0.0209183)

[node name="LeftHandBone" parent="Rig" index="3"]
transform = Transform3D(-0.970513, 0.239108, 0.0305215, -0.21092, -0.903674, 0.372675, 0.116691, 0.355248, 0.92746, 0.34785, 0.991284, -0.0135239)

[node name="HealthComponent" parent="." instance=ExtResource("3_jqpg3")]

[node name="PlayerDetector" type="ShapeCast3D" parent="."]
shape = SubResource("CapsuleShape3D_kpb34")
target_position = Vector3(0, 0, 1)
collision_mask = 4

[connection signal="defeat" from="HealthComponent" to="." method="_on_health_component_defeat"]

[editable path="Rig"]
[editable path="Rig/CharacterRig"]
